{
  "stats": {
    "suites": 1,
    "tests": 7,
    "passes": 7,
    "pending": 0,
    "failures": 0,
    "start": "2024-12-15T02:10:19.397Z",
    "end": "2024-12-15T02:15:33.403Z",
    "duration": 314006,
    "testsRegistered": 7,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "d8772dfa-4d04-44c2-91e7-d7d339896dd6",
      "title": "",
      "fullFile": "cypress/e2e/test-suites/ECP-T2652-ExamActionIcon.spec.ts",
      "file": "cypress/test-suites/ECP-T2652-ExamActionIcon.spec.ts",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
          "title": "ECP-T2652 - Exam Action Icon",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Test Preparation - Before Step, creating API token and uploading exams",
              "fullTitle": "ECP-T2652 - Exam Action Icon Test Preparation - Before Step, creating API token and uploading exams",
              "timedOut": null,
              "duration": 110526,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "common_1.Common.login(customerName, userName, userpassword);\ncommon_1.Common.switchToCustomer(customerName, configFile.timeout, true);\ncommon_1.Common.switchToFacility(facilityName);\ncommon_1.Common.navigateTo('My Facility');\ncommon_1.Common.navigateTo('Admin Settings');\ncommon_1.Common.switchTab('Features');\n// Verify That All required features are enabled\nmeteor_1.Meteor.changeFeatures({\n    allowEdgeServer: true,\n    allowAPIs: true,\n    allowNixViewerApi: true,\n    allowWorkstationViewer: true,\n    allowInboundSharing: true,\n    allowOutboundSharing: true,\n    allowPatientSharing: true,\n    allowStatShares: true\n}, facilityName);\ncy.wait(configFile.smallTimeout);\ncommon_1.Common.createAPIToken(\"api_token_for_org_\".concat(facilityName)).then(function (res) {\n    token = res.token;\n    orgId = res.orgId;\n    console.log('token: ', token, ' , orgId: ', orgId);\n    // upload exam now\n    var examUploadCmd = \"node utils/p10UploadDriver.js -baseUri=\".concat(configFile.url, \" -apiToken=\").concat(token, \" -maxParallel=5 -data=resources/c5_-Palette_Color_secondary_capture -keepAlive=1\");\n    cy.exec(examUploadCmd, { log: true, env: { NODE_TLS_REJECT_UNAUTHORIZED: configFile.NODE_TLS_REJECT_UNAUTHORIZED } })\n        .then(function (_a) {\n        var code = _a.code, stdout = _a.stdout, stderr = _a.stderr;\n        console.log(code, stdout, stderr);\n    });\n}).catch(function (err) {\n    console.log(err);\n});\ncommon_1.Common.switchToFacility(facility2Name);\nmeteor_1.Meteor.changeFeatures({\n    allowEdgeServer: true,\n    allowAPIs: true,\n    allowNixViewerApi: true,\n    allowWorkstationViewer: true,\n    allowInboundSharing: true,\n    allowOutboundSharing: true,\n    allowPatientSharing: true,\n    allowStatShares: true\n}, facility2Name);",
              "err": {},
              "uuid": "bcc2fb1f-2159-459c-8e46-b8c53820520f",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Starting Exam Action Icon Test - Step 1 - 4",
              "fullTitle": "ECP-T2652 - Exam Action Icon Starting Exam Action Icon Test - Step 1 - 4",
              "timedOut": null,
              "duration": 39102,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Visit Base URL\ncommon_1.Common.login(customerName, userName, userpassword);\ncommon_1.Common.switchToCustomer(customerName, configFile.timeout, true);\ncommon_1.Common.switchToFacility(facilityName);\n// Step 1 - Verify the following action icons are displayed for a newly uploaded exam:\n// View, Share, Comments, Attachments\ncommon_1.Common.navigateTo('Sharing List');\ncy.wait(configFile.smallTimeout);\ncy.waitUntil(function () { return cy.get('#tableStudies_wrapper button.viewExam').should('be.visible'); }, { timeout: configFile.waitUntilTimeout });\ncy.get('#tableStudies_wrapper button.viewExam').first().should('exist');\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.shareExam').first().should('exist');\ncy.get('#tableStudies_wrapper button.exam-comments-btn').first().should('exist');\ncy.get('#tableStudies_wrapper button.exam-attachments-btn').first().should('exist');\ncy.get('h2.pageTitle').click();\n// Step 2 - Actions icons: Verify: View icon is filled in since exam has not been viewed yet A share icon is hollow since the exam\n// has not been shared yet Comments icon is hollow since the exam has no comments yet Attachments icon is hollow since the exam has not attachments yet\ncy.get('#tableStudies_wrapper button.viewExam .iconViewFilled').first().should('exist');\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.shareExam .iconShare title').should('not.exist');\ncy.get('#tableStudies_wrapper button.exam-comments-btn .iconComment').first().should('exist');\ncy.get('#tableStudies_wrapper button.exam-attachments-btn .notification-badge').should('not.exist');\n// Step 3 - Create a share for the exam and verify the share icon is now filled in gray.\ncy.get('#tableStudies_wrapper button.shareExam').click();\ncy.wait(configFile.tinyTimeout);\ncy.get('#statShare .popover-content #organization').type(facility2Name);\ncy.get('#statShare .popover-content .multiStateButtonWrapper button').click();\ncy.wait(configFile.tinyTimeout);\ncy.get('#statShare .popover-content .orgSearchTable .selectableRecipientRow button.addRecipientBtn').first().click();\ncy.get('#statShare .popover-content .popover-btn-group #shareExam').click();\ncy.wait(configFile.smallTimeout);\ncy.get('#tableStudies_wrapper button.shareExam .iconShare title').should('have.text', 'share-filled');\ncy.get('h2.pageTitle').click();\ncy.wait(configFile.tinyTimeout);\n// Step 4 - View the exam, then return to the exam list and verify the view icon is no longer filled in.\n//  TODO - cypress does not support multiple tabs\n// cy.get('#tableStudies_wrapper button.viewExam').first().click();\n// cy.wait(configFile.smallTimeout);\n// c.navigateTo('Sharing List');\n// cy.wait(configFile.tinyTimeout);\n// cy.get('#tableStudies_wrapper button.viewExam .iconView').should('exist');",
              "err": {},
              "uuid": "abf7a794-8f88-4eee-9dbf-f4ac7464e84c",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Exam Action Icon Test - Step 5 & 6",
              "fullTitle": "ECP-T2652 - Exam Action Icon Exam Action Icon Test - Step 5 & 6",
              "timedOut": null,
              "duration": 34409,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Visit Base URL\ncommon_1.Common.login(customerName, userName, userpassword);\ncommon_1.Common.switchToCustomer(customerName, configFile.timeout, true);\ncommon_1.Common.switchToFacility(facility2Name);\ncy.wait(configFile.smallTimeout);\ncommon_1.Common.navigateTo('Sharing List');\ncy.wait(configFile.smallTimeout);\ncy.waitUntil(function () { return cy.get('#tableStudies_wrapper button.viewExam').should('be.visible'); }, { timeout: configFile.waitUntilTimeout });\n// step 5 - Log in as the recipient of the shared exam and verify the view icon is filled in, indicating the exam has not been viewed by the user.\n// cy.get('#tableStudies_wrapper button.viewExam .iconViewFilled').should('exist');\n// TODO cypress does not support multiple tabs\n// Step 6 - Add a comment to an exam and verify the comments action icon gets filled in gray.\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.exam-comments-btn').click();\ncy.get('.examComments-popover .popover-content #compose textarea.compose-field').type('NIX-T664-Step-6-adding-a-dummy-comment');\ncy.get('.examComments-popover .popover-content #compose .sendComment').click();\ncy.get('.examComments-popover .popover-title .comments-close-btn').click();\ncy.get('#tableStudies_wrapper button.exam-comments-btn .iconCommentFilled').should('exist');",
              "err": {},
              "uuid": "233566cb-43e2-4a61-b911-be6b24851846",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Exam Action Icon Test - Step 7, 8 & 9",
              "fullTitle": "ECP-T2652 - Exam Action Icon Exam Action Icon Test - Step 7, 8 & 9",
              "timedOut": null,
              "duration": 36733,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Visit Base URL\ncommon_1.Common.login(customerName, userName, userpassword);\ncommon_1.Common.switchToCustomer(customerName, configFile.timeout, true);\ncommon_1.Common.switchToFacility(facilityName);\ncommon_1.Common.navigateTo('Sharing List');\ncy.wait(configFile.smallTimeout);\ncy.waitUntil(function () { return cy.get('#tableStudies_wrapper button.viewExam').should('be.visible'); }, { timeout: configFile.waitUntilTimeout });\n// step 7 - Navigate back to the exams list as the original user, who created the share and verify the comments icons are filled in and contain a number indicating new comments.\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.exam-comments-btn .iconCommentFilled').should('exist');\n// cy.get('#tableStudies_wrapper button.exam-comments-btn .notification-badge').should('exist');\n// Step 8 - Add an attachment and verify the attachments icon is now filled in.\ncy.get('#tableStudies_wrapper button.exam-attachments-btn').click();\ncy.get('#selectAttachment').attachFile('dummyAttachment.png');\ncy.get('.attachments-close-btn').click();\ncy.wait(configFile.smallTimeout);\ncy.get('#tableStudies_wrapper button.exam-attachments-btn').should('exist');\ncy.get('h2.pageTitle').click();\ncy.wait(configFile.tinyTimeout);\n// Step 9 - As the original user, who created the share, and remove the comments and attachments for the shared exam.  Verify the comments and attachments icons for the share creator are now hollow.\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.exam-comments-btn').click();\ncy.get('.examComments-popover .popover-content #comments .comment .comment-controls .delete-comment').first().click();\ncy.get('.examComments-popover .popover-content #comments .comment .bubble .js-confirm-delete-comment').click();\ncy.get('.examComments-popover .popover-title .comments-close-btn').click();\n// cy.get('#tableStudies_wrapper button.exam-comments-btn .notification-badge').should('not.exist');\ncy.get('#tableStudies_wrapper button.exam-attachments-btn').click();\ncy.get('.attachments__list .attachment .attachment__controls .open-dot-menu').first().click();\ncy.get('.menu-attachmentMenu .attachmentMenu .js-delete-attachment').click();\ncy.get('.attachments__list .attachment .attachment__confirmation .js-confirm-delete-attachment').click();\ncy.get('.attachments-close-btn').click();\ncy.get('#tableStudies_wrapper button.exam-attachments-btn').should('exist');\ncy.get('h2.pageTitle').click();",
              "err": {},
              "uuid": "93dd5253-129c-4da5-be3d-794e1a8d831e",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Exam Action Icon Test - Step 10 & 11",
              "fullTitle": "ECP-T2652 - Exam Action Icon Exam Action Icon Test - Step 10 & 11",
              "timedOut": null,
              "duration": 29599,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Visit Base URL\ncommon_1.Common.login(customerName, userName, userpassword);\ncommon_1.Common.switchToCustomer(customerName, configFile.timeout, true);\ncommon_1.Common.switchToFacility(facility2Name);\n// step 10 - Log in as the recipient of the share and verify the action icons for comments and attachments are hollow.\ncommon_1.Common.navigateTo('Sharing List');\ncy.wait(configFile.smallTimeout);\ncy.waitUntil(function () { return cy.get('#tableStudies_wrapper button.viewExam').should('be.visible'); }, { timeout: configFile.waitUntilTimeout });\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.exam-comments-btn').should('exist');\ncy.get('#tableStudies_wrapper button.exam-attachments-btn').should('exist');\ncy.get('h2.pageTitle').click();\n// Step 11 - As the recipient of the share, view the exam and verify the view action icons become hollow as expected.\n// TODO cypress does not support multiple tabs\n// cy.get('#tableStudies_wrapper button.viewExam').first().click();\n// cy.wait(configFile.timeout);\n// c.navigateTo('Sharing List');\n// cy.wait(configFile.tinyTimeout);\n// cy.get('#tableStudies_wrapper button.viewExam .iconView').should('exist');",
              "err": {},
              "uuid": "346f47a0-059a-4d21-85ae-77f1ce272a50",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Exam Action Icon Test - Step 12 & 13",
              "fullTitle": "ECP-T2652 - Exam Action Icon Exam Action Icon Test - Step 12 & 13",
              "timedOut": null,
              "duration": 31760,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Visit Base URL\ncommon_1.Common.login(customerName, userName, userpassword);\ncommon_1.Common.switchToCustomer(customerName, configFile.timeout, true);\ncommon_1.Common.switchToFacility(facilityName);\ncommon_1.Common.navigateTo('Sharing List');\ncy.wait(configFile.smallTimeout);\ncy.waitUntil(function () { return cy.get('#tableStudies_wrapper button.viewExam').should('be.visible'); }, { timeout: configFile.waitUntilTimeout });\n// Step 12 - Using the share creator's account, revoke the shared exam and verify the sharing action icon is hollow, indicating there are no shares present.\ncy.get('.expanderCell .openExtra').click();\ncy.get('.shareHistoryTab').click();\ncy.get('.revokeShareBtn').click();\ncy.get('#revokeShareYes').click();\ncommon_1.Common.clickMoreIconOnExam('#tableStudies_wrapper');\ncy.get('#tableStudies_wrapper button.shareExam').should('exist');\ncy.get('h2.pageTitle').click();\n// Step 13 - Add around 20 comments to an exam, scroll to the top and add a new comment. Verify the Comments section shall scroll to the bottom and show the latest added comment.\n// TODO - check if cypress support scroll",
              "err": {},
              "uuid": "fd067012-1a84-42f5-add3-d8c65c3d1b3a",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Disable facility and cleanup",
              "fullTitle": "ECP-T2652 - Exam Action Icon Disable facility and cleanup",
              "timedOut": null,
              "duration": 7447,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "common_1.Common.login(customerName, userName, userpassword);\nmeteor_1.Meteor.changeFacilityStatus(facilityName, false);\nmeteor_1.Meteor.changeFacilityStatus(facility2Name, false);",
              "err": {},
              "uuid": "f7436b1c-2fec-48b2-ac43-cfdb8cb175af",
              "parentUUID": "95129c4b-e2b4-4a8e-b3a4-ef6fb3a3d053",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "bcc2fb1f-2159-459c-8e46-b8c53820520f",
            "abf7a794-8f88-4eee-9dbf-f4ac7464e84c",
            "233566cb-43e2-4a61-b911-be6b24851846",
            "93dd5253-129c-4da5-be3d-794e1a8d831e",
            "346f47a0-059a-4d21-85ae-77f1ce272a50",
            "fd067012-1a84-42f5-add3-d8c65c3d1b3a",
            "f7436b1c-2fec-48b2-ac43-cfdb8cb175af"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 289576,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "[name]",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "id": "default",
        "charts": true,
        "html": true,
        "json": true,
        "reportDir": "cypress/report/mochawesome",
        "overwrite": true,
        "reportFilename": "[name]",
        "reportTitle": "SI PACS Automation",
        "reportPageTitle": "SI PACS Automation",
        "autoOpen": false
      },
      "version": "6.2.0"
    }
  }
}